<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frog Whack-a-Mole - Interactive Demo</title>
    <link rel="icon" type="image/jpeg" href="../default.jpg">
    <link rel="stylesheet" href="../page-theme.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        /* Page-specific home-link overrides removed to use shared theme */

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            animation: fadeIn 0.6s ease;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .demo-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            animation: slideUp 0.6s ease;
        }

        .demo-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 20px;
        }

        .control-group {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }

        label {
            font-weight: 600;
            color: #333;
            min-width: 100px;
        }

        select, input[type="number"] {
            padding: 8px 12px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        select:hover, input[type="number"]:hover {
            border-color: #764ba2;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        select:focus, input[type="number"]:focus {
            outline: none;
            border-color: #764ba2;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .stats {
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            font-size: 0.9em;
            color: #666;
            font-weight: 500;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            margin-top: 5px;
        }

        #gameGrid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 15px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            max-width: 500px;
            margin: 0 auto;
        }

        .hole {
            aspect-ratio: 1;
            background: radial-gradient(circle at 30% 30%, #8B7355, #654321);
            border-radius: 50%;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            border: 3px solid #4a3728;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.5), 0 2px 5px rgba(0, 0, 0, 0.3);
            transition: all 0.1s ease;
        }

        .hole:hover {
            transform: scale(1.05);
        }

        .hole.active {
            background: radial-gradient(circle at 30% 30%, #90EE90, #228B22);
            animation: popUp 0.3s ease;
        }

        .frog {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            user-select: none;
            pointer-events: none;
        }

        @keyframes popUp {
            0% {
                transform: scale(0.8);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        button {
            padding: 12px 25px;
            font-size: 1em;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }

        .btn-danger {
            background: #ff6b6b;
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .btn-danger:hover {
            background: #ff5252;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .feature-card {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .feature-card h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .feature-card p {
            color: #555;
            line-height: 1.6;
        }

        .instructions {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .instructions h3 {
            color: #1976D2;
            margin-bottom: 10px;
        }

        .instructions ol {
            margin-left: 20px;
            color: #333;
            line-height: 1.8;
        }

        .instructions li {
            margin-bottom: 8px;
        }

        .status-message {
            text-align: center;
            font-size: 1.1em;
            font-weight: 600;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }

        .status-message.show {
            display: block;
            animation: slideUp 0.3s ease;
        }

        .status-message.success {
            background: #d4edda;
            color: #155724;
        }

        .status-message.info {
            background: #d1ecf1;
            color: #0c5460;
        }

        .sound-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 26px;
            background: #ccc;
            border-radius: 13px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .toggle-switch.active {
            background: #667eea;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: left 0.3s;
        }

        .toggle-switch.active::after {
            left: 26px;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2em;
            }

            #gameGrid {
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
            }

            .hole {
                min-height: 70px;
            }

            .controls {
                flex-direction: column;
            }

            .control-group {
                flex-direction: column;
                width: 100%;
            }

            label {
                width: 100%;
            }

            select, input[type="number"] {
                width: 100%;
            }
        }
    </style>

</head>
<body>
    <a href="../index.html" class="home-link">‚Üê</a>

    <div class="container">
        <header>
            <h1>üê∏ Frog Whack-a-Mole</h1>
            <p>Click the frogs as they pop up to score points!</p>
        </header>

        <div class="demo-section">
            <h2>üéÆ Game Interface</h2>
            <div class="game-container">
                <div class="controls">
                    <div class="control-group">
                        <label for="difficulty">Difficulty:</label>
                        <select id="difficulty">
                            <option value="easy">Easy</option>
                            <option value="medium" selected>Medium</option>
                            <option value="hard">Hard</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label for="duration">Duration (seconds):</label>
                        <input type="number" id="duration" value="30" min="10" max="120" step="10">
                    </div>

                    <div class="control-group sound-toggle">
                        <label for="soundToggle">Sound Effects:</label>
                        <div class="toggle-switch active" id="soundToggle"></div>
                    </div>

                    <button class="btn-primary" id="startBtn" style="padding: 10px 20px; font-size: 0.9em;">Start Game</button>
                    <button class="btn-secondary" id="resetBtn" style="display: none;">Reset</button>
                </div>

                <div class="stats">
                    <div class="stat">
                        <div class="stat-label">Score</div>
                        <div class="stat-value" id="score">0</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Time Left</div>
                        <div class="stat-value" id="timer">30s</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Frogs Caught</div>
                        <div class="stat-value" id="frogsCaught">0</div>
                    </div>
                </div>

                <div id="gameGrid">
                    <!-- Game holes will be generated here -->
                </div>

                <div class="status-message" id="statusMessage"></div>
            </div>
        </div>

        <div class="demo-section">
            <h2>üìñ How to Play</h2>
            <div class="instructions">
                <h3>Game Rules:</h3>
                <ol>
                    <li>Select your preferred difficulty level (Easy, Medium, Hard)</li>
                    <li>Click the "Start Game" button to begin</li>
                    <li>Watch for frogs to pop up in the holes</li>
                    <li>Click on each frog as quickly as possible to score points</li>
                    <li>Frogs disappear after a short time - click them before they vanish!</li>
                    <li>Higher difficulty means frogs appear faster and stay shorter</li>
                    <li>Your score and time remaining are displayed at the top</li>
                </ol>
            </div>
        </div>

        <div class="demo-section">
            <h2>‚ú® Features</h2>
            <div class="features">
                <div class="feature-card">
                    <h3>üéØ Score Tracking</h3>
                    <p>Real-time score updates as you catch frogs. Your score increases with each successful click!</p>
                </div>
                <div class="feature-card">
                    <h3>‚è±Ô∏è Timer System</h3>
                    <p>Countdown timer shows remaining time. Game automatically ends when time runs out.</p>
                </div>
                <div class="feature-card">
                    <h3>üîä Sound Effects</h3>
                    <p>Toggle sound effects on/off. Enjoy satisfying audio feedback when catching frogs!</p>
                </div>
                <div class="feature-card">
                    <h3>üéöÔ∏è Difficulty Levels</h3>
                    <p>Easy, Medium, and Hard modes. Difficulty affects frog spawn rate and visibility duration.</p>
                </div>
                <div class="feature-card">
                    <h3>üì± Responsive Design</h3>
                    <p>Works perfectly on desktop, tablet, and mobile devices. Touch-friendly interface.</p>
                </div>
                <div class="feature-card">
                    <h3>üé® Visual Feedback</h3>
                    <p>Animated frogs with smooth transitions. Clear visual indicators for active holes.</p>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2>‚öôÔ∏è Configuration Options</h2>
            <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                <h3 style="color: #667eea; margin-bottom: 15px;">Available Settings:</h3>
                <ul style="line-height: 2; color: #555;">
                    <li><strong>Difficulty Levels:</strong> Easy (slower frogs), Medium (balanced), Hard (fast frogs)</li>
                    <li><strong>Game Duration:</strong> Customizable from 10 to 120 seconds</li>
                    <li><strong>Sound Toggle:</strong> Enable/disable sound effects</li>
                    <li><strong>Grid Size:</strong> Auto-adjusts based on screen size</li>
                    <li><strong>Frog Emojis:</strong> Multiple frog variations for variety</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="frog_whack_a_mole.js"></script>
    <script>
        // Initialize game variables
        let game = null;
        let soundEnabled = true;
        let currentDifficulty = 'medium';
        let currentDuration = 30;

        // Initialize the game on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeGame();
        });

        function initializeGame() {
            // Create initial grid
            createGameGrid();

            // Setup event listeners
            document.getElementById('startBtn').addEventListener('click', startGame);
            document.getElementById('resetBtn').addEventListener('click', resetGame);
            document.getElementById('soundToggle').addEventListener('click', toggleSound);
            document.getElementById('difficulty').addEventListener('change', function(e) {
                currentDifficulty = e.target.value;
            });
            document.getElementById('duration').addEventListener('change', function(e) {
                currentDuration = parseInt(e.target.value);
            });
        }

        function createGameGrid() {
            const grid = document.getElementById('gameGrid');
            grid.innerHTML = '';

            // Create 9 holes for the game
            for (let i = 0; i < 9; i++) {
                const hole = document.createElement('div');
                hole.className = 'hole';
                hole.id = `hole-${i}`;
                hole.innerHTML = '<div class="frog">üê∏</div>';
                hole.addEventListener('click', function() {
                    if (game && game.isRunning) {
                        handleFrogClick(i);
                    }
                });
                grid.appendChild(hole);
            }
        }

        function startGame() {
            // Hide start button and show reset button
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('resetBtn').style.display = 'inline-block';

            // Disable controls
            document.getElementById('difficulty').disabled = true;
            document.getElementById('duration').disabled = true;

            // Initialize game object
            game = {
                isRunning: true,
                score: 0,
                frogsCaught: 0,
                timeLeft: currentDuration,
                difficulty: currentDifficulty,
                activeFrogs: new Set(),
                soundEnabled: soundEnabled
            };

            // Reset display
            updateScore();
            updateTimer();
            updateFrogsCaught();
            clearStatusMessage();

            // Start the game loop
            gameLoop();
        }

        function gameLoop() {
            if (!game || !game.isRunning) return;

            // Spawn frogs based on difficulty
            spawnFrog();

            // Schedule next spawn based on difficulty
            let spawnDelay;
            if (game.difficulty === 'easy') {
                spawnDelay = 1500;
            } else if (game.difficulty === 'medium') {
                spawnDelay = 1000;
            } else {
                spawnDelay = 600;
            }

            setTimeout(gameLoop, spawnDelay);
        }

        function spawnFrog() {
            if (!game || !game.isRunning) return;

            // Pick a random hole
            const holeIndex = Math.floor(Math.random() * 9);
            const hole = document.getElementById(`hole-${holeIndex}`);

            if (hole && !game.activeFrogs.has(holeIndex)) {
                game.activeFrogs.add(holeIndex);
                hole.classList.add('active');

                // Determine visibility duration based on difficulty
                let visibilityDuration;
                if (game.difficulty === 'easy') {
                    visibilityDuration = 2000;
                } else if (game.difficulty === 'medium') {
                    visibilityDuration = 1200;
                } else {
                    visibilityDuration = 800;
                }

                // Hide frog after duration
                setTimeout(() => {
                    if (game.activeFrogs.has(holeIndex)) {
                        game.activeFrogs.delete(holeIndex);
                        hole.classList.remove('active');
                    }
                }, visibilityDuration);
            }
        }

        function handleFrogClick(holeIndex) {
            if (!game || !game.isRunning) return;

            const hole = document.getElementById(`hole-${holeIndex}`);

            if (game.activeFrogs.has(holeIndex)) {
                game.activeFrogs.delete(holeIndex);
                hole.classList.remove('active');

                // Increase score and frogs caught
                game.score += 10;
                game.frogsCaught += 1;

                // Play sound if enabled
                if (game.soundEnabled) {
                    playSound();
                }

                // Update display
                updateScore();
                updateFrogsCaught();

                // Add visual feedback
                hole.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    hole.style.transform = 'scale(1)';
                }, 100);
            }
        }

        function playSound() {
            // Create a simple beep sound using Web Audio API
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                oscillator.frequency.value = 800;
                oscillator.type = 'sine';

                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);

                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.1);
            } catch (e) {
                console.log('Sound not available');
            }
        }

        function updateScore() {
            document.getElementById('score').textContent = game ? game.score : 0;
        }

        function updateFrogsCaught() {
            document.getElementById('frogsCaught').textContent = game ? game.frogsCaught : 0;
        }

        function updateTimer() {
            if (!game || !game.isRunning) return;

            game.timeLeft -= 1;
            document.getElementById('timer').textContent = game.timeLeft + 's';

            if (game.timeLeft <= 0) {
                endGame();
            } else {
                setTimeout(updateTimer, 1000);
            }
        }

        function endGame() {
            game.isRunning = false;

            // Clear all active frogs
            game.activeFrogs.forEach(index => {
                const hole = document.getElementById(`hole-${index}`);
                if (hole) {
                    hole.classList.remove('active');
                }
            });
            game.activeFrogs.clear();

            // Show end game message
            showStatusMessage(`Game Over! Final Score: ${game.score} points (${game.frogsCaught} frogs caught)`, 'success');
        }

        function resetGame() {
            // Stop the game
            if (game) {
                game.isRunning = false;
            }

            // Clear active frogs
            document.querySelectorAll('.hole').forEach(hole => {
                hole.classList.remove('active');
            });

            // Reset display
            game = null;
            document.getElementById('score').textContent = '0';
            document.getElementById('timer').textContent = currentDuration + 's';
            document.getElementById('frogsCaught').textContent = '0';

            // Show buttons
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('resetBtn').style.display = 'none';

            // Enable controls
            document.getElementById('difficulty').disabled = false;
            document.getElementById('duration').disabled = false;

            clearStatusMessage();
        }

        function toggleSound() {
            soundEnabled = !soundEnabled;
            const toggle = document.getElementById('soundToggle');
            if (soundEnabled) {
                toggle.classList.add('active');
                showStatusMessage('Sound effects enabled', 'info');
            } else {
                toggle.classList.remove('active');
                showStatusMessage('Sound effects disabled', 'info');
            }

            if (game) {
                game.soundEnabled = soundEnabled;
            }
        }

        function showStatusMessage(message, type) {
            const statusElement = document.getElementById('statusMessage');
            statusElement.textContent = message;
            statusElement.className = `status-message show ${type}`;

            setTimeout(() => {
                statusElement.classList.remove('show');
            }, 3000);
        }

        function clearStatusMessage() {
            const statusElement = document.getElementById('statusMessage');
            statusElement.classList.remove('show');
        }
    </script>
</body>
</html>
