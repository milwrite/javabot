<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subway Sub Ratio Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../page-theme.css">
    <style>
        .visualization {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .sub-container {
            flex: 1;
            min-width: 200px;
            padding: 15px;
            background: rgba(37, 42, 50, 0.6);
            border: 2px solid #5a9d7a;
            border-radius: 8px;
            text-align: center;
        }

        .sub {
            display: flex;
            height: 40px;
            background: #d4a574;
            border-radius: 20px;
            margin: 10px 0;
            overflow: hidden;
            border: 2px solid #8b6f47;
        }

        .meat {
            background: #c41e3a;
            flex: var(--meat-ratio);
            position: relative;
        }

        .veggie {
            background: #2ecc71;
            flex: var(--veggie-ratio);
            position: relative;
        }

        .bread {
            background: #d4a574;
            flex: 1;
        }

        .sub-label {
            font-size: 0.6em;
            color: #95c9ad;
            margin-bottom: 10px;
            display: block;
        }

        .ratio-text {
            font-size: 0.7em;
            color: #7dd3a0;
            margin-top: 10px;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        input[type="range"] {
            width: 200px;
            max-width: 100%;
        }

        .stat-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-box {
            padding: 15px;
            background: rgba(37, 42, 50, 0.6);
            border: 2px solid #5a9d7a;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 1.2em;
            color: #7dd3a0;
            font-weight: bold;
        }

        .stat-label {
            font-size: 0.6em;
            color: #95c9ad;
            margin-top: 8px;
        }
    </style>
</head>
<body>
    <div class="home-link">
        <a href="../index.html">‚Üê back</a>
    </div>

    <div class="container">
        <div class="header">
            <h1>SUBWAY SUB RATIO</h1>
            <p class="subtitle">The Perfect Composition Calculator</p>
        </div>

        <div class="content">
            <div class="controls">
                <div class="input-group">
                    <label for="meatSlider">Meat Ratio:</label>
                    <input type="range" id="meatSlider" min="0" max="100" value="40">
                    <span id="meatValue">40%</span>
                </div>
                <div class="input-group">
                    <label for="veggieSlider">Veggie Ratio:</label>
                    <input type="range" id="veggieSlider" min="0" max="100" value="30">
                    <span id="veggieValue">30%</span>
                </div>
                <button class="btn btn-reset" onclick="resetRatios()">Reset</button>
            </div>

            <div class="visualization">
                <div class="sub-container">
                    <span class="sub-label">Your Sub</span>
                    <div class="sub" style="--meat-ratio: var(--meat); --veggie-ratio: var(--veggie);">
                        <div class="meat"></div>
                        <div class="veggie"></div>
                    </div>
                    <span class="ratio-text" id="ratioText">40% meat, 30% veggie</span>
                </div>

                <div class="sub-container">
                    <span class="sub-label">Perfect Sub</span>
                    <div class="sub" style="--meat-ratio: 0.4; --veggie-ratio: 0.4;">
                        <div class="meat"></div>
                        <div class="veggie"></div>
                    </div>
                    <span class="ratio-text">40% meat, 40% veggie</span>
                </div>
            </div>

            <div class="stat-display">
                <div class="stat-box">
                    <div class="stat-value" id="meatPercent">40%</div>
                    <div class="stat-label">Meat</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="veggiePercent">30%</div>
                    <div class="stat-label">Veggie</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="breadPercent">30%</div>
                    <div class="stat-label">Bread</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="balance">Unbalanced</div>
                    <div class="stat-label">Balance</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const meatSlider = document.getElementById('meatSlider');
        const veggieSlider = document.getElementById('veggieSlider');
        const meatValue = document.getElementById('meatValue');
        const veggieValue = document.getElementById('veggieValue');
        const ratioText = document.getElementById('ratioText');
        const meatPercent = document.getElementById('meatPercent');
        const veggiePercent = document.getElementById('veggiePercent');
        const breadPercent = document.getElementById('breadPercent');
        const balance = document.getElementById('balance');
        const sub = document.querySelector('.sub');

        function updateRatios() {
            const meat = parseInt(meatSlider.value);
            const veggie = parseInt(veggieSlider.value);
            const bread = 100 - meat - veggie;

            meatValue.textContent = meat + '%';
            veggieValue.textContent = veggie + '%';
            ratioText.textContent = `${meat}% meat, ${veggie}% veggie`;
            meatPercent.textContent = meat + '%';
            veggiePercent.textContent = veggie + '%';
            breadPercent.textContent = bread + '%';

            sub.style.setProperty('--meat', meat / 100);
            sub.style.setProperty('--veggie', veggie / 100);

            if (meat === 40 && veggie === 40) {
                balance.textContent = 'Perfect!';
                balance.style.color = '#7dd3a0';
            } else if (Math.abs(meat - 40) <= 10 && Math.abs(veggie - 40) <= 10) {
                balance.textContent = 'Good';
                balance.style.color = '#95c9ad';
            } else {
                balance.textContent = 'Unbalanced';
                balance.style.color = '#ff6b6b';
            }
        }

        function resetRatios() {
            meatSlider.value = 40;
            veggieSlider.value = 30;
            updateRatios();
        }

        meatSlider.addEventListener('input', updateRatios);
        veggieSlider.addEventListener('input', updateRatios);

        updateRatios();
    </script>
</body>
</html>